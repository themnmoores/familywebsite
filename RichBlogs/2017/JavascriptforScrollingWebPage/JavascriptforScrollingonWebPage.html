<!doctype html>
<html>

<head>
<script src="../../../formatting.js"></script>

<meta name="viewport" content="width=1200">

<meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c14{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c1{margin-left:36pt;padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c8{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c17{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c4{font-size:12pt;font-family:"Verdana";color:#881391;font-weight:400}.c11{font-size:12pt;font-family:"Verdana";color:#c41a16;font-weight:400}.c15{font-family:"Verdana";color:#212121;font-weight:400}.c13{background-color:#ffffff;max-width:540pt;padding:36pt 36pt 36pt 36pt}.c10{font-size:12pt;color:#1155cc;text-decoration:underline}.c3{color:inherit;text-decoration:inherit}.c9{font-size:10pt}.c6{text-indent:36pt}.c12{font-size:12pt}.c16{margin-left:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style>

<script>addGoogleAnalytics();</script>

<meta name="description" content="Using Javascript for vertical scrolling to a desired position on a web page">
<meta name="keywords" content="Scrolling Webpage,Javascript,URL parameters">

</head><body style="padding:0 0 0 0;max-width:100vw" onload="setVerticalPositionToSpan()" class="c13">

<script>setBodyBackgroundFormatting();</script>
<div id="headerTopBar"></div>
<script>commonPageHeaderBarNew2("","../../../");</script>
<script>commonNavivationButtonsNew2("../../../","");</script>

<div style="text-align:center;margin-top:3vw" >

<div style="width:612pt;margin-left: auto;margin-right: auto;">

<p class="c7"><span class="c8">Javascript for Scrolling to a Desired Position on Web Page</span></p><p class="c7"><span class="c8">February 8, 2017</span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">I was putting together an index of wines that I have tasting notes for and thought it would be really nice to have a way of positioning the web page containing the tasting notes to the proper vertical position instead of at the top of a page and forcing users to scroll and find a particular wine.</span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">For example, if you are looking for the tasting notes on the Michael David 2014 Petite Petite wine it would be nice to land on this view.</span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 720.00px; height: 405.33px;"><img alt="" src="images/image4.png" style="width: 720.00px; height: 405.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">Instead of just the top of the page and have to scroll down to the bottom.</span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 720.00px; height: 405.33px;"><img alt="" src="images/image5.png" style="width: 720.00px; height: 405.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">Doing a bit of searching on the web it looked like I needed to find the Y position of the desired tasting note somehow and then use the Javascript window.scroll function. Looking at the HTML from Google Docs that I use for blogging, to see my other blog posts concerning this;</span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c10"><a class="c3" href="http://themnmoores.net/RichBlogs/BloggingUsingGoogleDocsDec242016/BloggingUsingGoogleDocs.html">http://themnmoores.net/RichBlogs/BloggingUsingGoogleDocsDec242016/BloggingUsingGoogleDocs.html</a></span></p><p class="c1"><span class="c10"><a class="c3" href="http://themnmoores.net/RichBlogs/2017/BloggingWithGoogleDocsPart2/BloggingWithGoogleDocsPart2.html">http://themnmoores.net/RichBlogs/2017/BloggingWithGoogleDocsPart2/BloggingWithGoogleDocsPart2.html</a></span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c12">I could see that each paragraph of text is contained in a &lt;span&gt; tag. </span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 720.00px; height: 124.00px;"><img alt="" src="images/image1.png" style="width: 720.00px; height: 124.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">What this means is that I only had to send an URL parameter when displaying the web page indicated unique text within the &lt;span&gt; of interest. For the Petite Petite example above this is done using the following URL.</span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c9">http://themnmoores.net/RichBlogs/DecemberWines2016/DecemberWines2016.html?vertscrollspan=Petite_Petite</span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">The URL parameter vertscrollspan is what indicates the unique text being looked for. Spaces are indicated by _&rsquo;s since it was a pain to process HTML spaces. The Javascript function that does the work of getting the URL parameter and finding the appropriate &lt;span&gt; and it&rsquo;s Y position is shown below.</span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 720.00px; height: 456.00px;"><img alt="" src="images/image2.png" style="width: 720.00px; height: 456.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c12">The source for this function is contained in my </span><span class="c10"><a class="c3" href="http://themnmoores.net/formatting.js">formatting.js</a></span><span class="c2">&nbsp;collection of Javascript functions.</span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">First the code looks for an URL parameter vertscrollspan by getting the window.location.search property (not a very well named property IMHO):</span></p><p class="c5"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c5"><span class="c12">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 610.00px; height: 76.00px;"><img alt="" src="images/image3.png" style="width: 610.00px; height: 76.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">For our example we get:</span></p><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c4">urlParameters</span><span class="c12 c15">:</span><span class="c11">&quot;?vertscrollspan=Petite_Petite&quot;</span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">If any URL parameters are found the code strips out the vertscrollspan parameter text only, making sure we take into account that there can be multiple URL parameters sent to a webpage. URL parameters are separated by an "c0"><span class="c2"></span></p><p class="c1"><span class="c2">&nbsp;var listOfSpans = document.getElementsByTagName(&quot;Span&quot;);</span></p><p class="c0 c16"><span class="c2"></span></p><p class="c5"><span class="c2">The resulting array is searched looking for a span object whose innerHTML property contains the text specified in the URL argument. If such a span is found, we use the span&rsquo;s top offset to scroll the window.</span></p><p class="c0"><span class="c2"></span></p><p class="c5 c6"><span class="c2">window.scroll(0,span.offsetTop - 300);</span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">The -300 is an attempt to better vertically center the content we are after.</span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">To make sure the page has been rendered when we get the span top offset, setVerticalPositionToSpan is called as an onload callback for the &lt;body&gt; tag.</span></p><p class="c0"><span class="c2"></span></p><p class="c5 c6"><span class="c2">&lt;/head&gt;&lt;body onload=&quot;setVerticalPositionToSpan()&quot; class=&quot;c6&quot;&gt;</span></p><p class="c0"><span class="c2"></span></p><p class="c5"><span class="c2">In practice so far, so good.</span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c7"><span class="c14">Copyright 2017, Richard J. Moore</span></p><p class="c0"><span class="c14"></span></p><p class="c5"><span class="c14">keywords: Scrolling Webpage,Javascript,URL parameters</span></p><p class="c5"><span class="c14">description: Using Javascript for vertical scrolling to a desired position on a web page</span></p><p class="c0"><span class="c2"></span></p>

<script>addHTMLCommentBox();</script>

</body></html>